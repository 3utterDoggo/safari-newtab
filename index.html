<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>new tab</title>
    <style>
      body {
        background-color: #1e1c1c;
        color: #f0f8ff;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        margin: 0;
        padding: 2em;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        box-sizing: border-box;
      }

      .search {
        width: 100%;
        display: flex;
        justify-content: center;
        margin-bottom: 3em;
        position: relative;
      }

      .search input[type="text"] {
        width: 40vw;
        max-width: 480px;
        min-width: 200px;
        padding: 8px 12px;
        font-size: 1em;
        border: 1px solid #555;
        border-radius: 0;
        background-color: #212121;
        color: #f0f8ff;
        outline: none;
      }

      .search input[type="text"]::placeholder {
        color: #777;
      }

      /* ▼ 検索候補ボックス */
      .suggestions {
        position: absolute;
        top: 110%;
        width: 40vw;
        margin-top: -4px;
        max-width: 480px;
        background: #212121;
        border: 1px solid #444;
        color: #f0f8ff;
        z-index: 10;
        overflow: hidden;

        /* アニメーション初期状態 */
        opacity: 0;
        transform: translateY(-10px);
        pointer-events: none;
        transition: opacity 0.15s ease-out, transform 0.15s ease-out;
      }

      /* ▼ 表示時（下にスライド） */
      .suggestions.show {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }

      .suggestions div {
        padding: 6px 12px;
        cursor: pointer;
        border-bottom: 1px solid #2a2a2a;
      }

      .suggestions div:hover {
        background: #292929;
      }

      /* ブックマーク群 */
      .bookmarks {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        align-items: flex-start;
        width: 80%;
        max-width: 900px;
        gap: 1em;
        margin: 1em;
      }

      .bookmark {
        border: 1px solid #555;
        padding: 0.5em 1em;
        width: 10em;
        text-align: left;
        text-decoration: none;
        color: #f0f8ff;
        background-color: #212121;
        transition: background 0.15s, color 0.15s;
      }

      .bookmark:hover {
        background-color: #111;
        color: #fff;
      }

      .bookmark .title {
        font-size: 1em;
        font-weight: 600;
        margin-bottom: 0.2em;
      }

      .bookmark .url {
        font-size: 0.7em;
        color: #494949;
      }
    </style>
  </head>

  <body>
    <div class="search">
      <form
        action="https://www.google.com/search"
        method="get"
        id="searchForm"
      >
        <input
          type="text"
          name="q"
          id="searchInput"
          placeholder=" Search Google"
          autofocus
          autocomplete="on"
        />
        <div class="suggestions" id="suggestions"></div>
      </form>
    </div>

    <div class="bookmarks">
      <a class="bookmark" href="https://mail.google.com/mail/u/0/#inbox">
        <div class="title">Gmail</div>
        <div class="url">gmail.com</div>
      </a>
      <a class="bookmark" href="https://drive.google.com/drive/u/0/my-drive">
        <div class="title">Google Drive</div>
        <div class="url">drive.google.com</div>
      </a>
      <a class="bookmark" href="http://homebridge.local/">
        <div class="title">homebridge</div>
        <div class="url">homebridge.local</div>
      </a>
      <a class="bookmark" href="https://www.codogue.com/asciitree">
        <div class="title">Ascii Tree</div>
        <div class="url">www.codogue.com/asciitree</div>
      </a>

      <a class="bookmark" href="https://mec-itutor.jp/rpv/">
        <div class="title">MEC iTutor</div>
        <div class="url">mec-itutor.jp</div>
      </a>
      <a class="bookmark" href="https://study.mecnet.jp/users/login">
        <div class="title">MEC Net.</div>
        <div class="url">study.mecnet.jp</div>
      </a>
      <a class="bookmark" href="https://my.ptsc.jp/gomec/seito_login/">
        <div class="title">MEC mypage</div>
        <div class="url">my.ptsc.jp/gomec</div>
      </a>
      <a class="bookmark" href="https://kmulasweb.kmu.ac.jp/webclass/">
        <div class="title">KMULAS</div>
        <div class="url">kmulasweb.kmu.ac.jp</div>
      </a>

      <a class="bookmark" href="https://qb.medilink-study.com/MyPage">
        <div class="title">QB online</div>
        <div class="url">qb.medilink-study.com</div>
      </a>
      <a class="bookmark" href="https://lec.medilink-study.com/front/top/myCourse">
        <div class="title">mediLink</div>
        <div class="url">lec.medilink-study.com</div>
      </a>
      <a class="bookmark" href="https://input.medilink-study.com/">
        <div class="title">input</div>
        <div class="url">input.medilink-study.com</div>
      </a>
      <a class="bookmark" href="http://archive.org/web/web.php">
        <div class="title">Wayback Machine</div>
        <div class="url">archive.org</div>
      </a>
    </div>
    <script>
      const input = document.getElementById("searchInput");
      const suggestionsBox = document.getElementById("suggestions");

      input.addEventListener("input", async () => {
        const query = input.value.trim();
        if (!query) {
          suggestionsBox.classList.remove("show");
          suggestionsBox.innerHTML = "";
          return;
        }

        const res = await fetch(
          `https://corsproxy.io/?https://suggestqueries.google.com/complete/search?client=firefox&q=${encodeURIComponent(query)}`
        );
        const data = await res.json();
        const suggestions = data[1];
        suggestionsBox.innerHTML = suggestions
          .map((s) => `<div>${s}</div>`)
          .join("");

        // アニメーション表示
        suggestionsBox.classList.add("show");
      });

      suggestionsBox.addEventListener("click", (e) => {
        if (e.target.tagName === "DIV") {
          input.value = e.target.textContent;
          document.getElementById("searchForm").submit();
        }
      });

      // フォーカス外れたらフェードアウト
      document.addEventListener("click", (e) => {
        if (!e.target.closest(".search")) {
          suggestionsBox.classList.remove("show");
        }
      });
    </script>
  </body>
</html>
